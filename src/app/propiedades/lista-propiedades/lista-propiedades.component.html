<div class="min-h-screen bg-gradient-to-b from-sky-50 to-sky-100">
  <div class="max-w-7xl mx-auto px-4 py-8">

    <div class="flex items-center justify-between mb-6">
      <h1 class="text-2xl md:text-3xl font-semibold text-slate-900">Mis Propiedades</h1>

      <!-- Enlace ABSOLUTO -->
      <a routerLink="/propiedades/crear"
         class="px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition shadow">
        Crear
      </a>
    </div>

    <!-- Estados -->
    <div *ngIf="loading" class="text-slate-600">Cargando propiedades…</div>

    <div *ngIf="!loading && error" class="p-4 rounded border border-red-200 bg-red-50 text-red-700">
      {{ error }}
    </div>

    <div *ngIf="!loading && !error && propiedades.length === 0"
         class="p-6 rounded-xl border border-slate-200 bg-white text-slate-700">
      No tienes propiedades registradas aún.
    </div>

    <!-- Tabla -->
    <div *ngIf="!loading && !error && propiedades.length > 0" class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-xl shadow border border-slate-200">
        <thead class="bg-slate-100 text-slate-700">
          <tr>
            <th class="text-left p-3">Título</th>
            <th class="text-left p-3">Dirección</th>
            <th class="text-left p-3">Precio</th>
            <th class="text-left p-3">Moneda</th>
            <th class="text-left p-3">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let p of propiedades" class="border-t border-slate-200">
            <td class="p-3">{{ p.titulo }}</td>
            <td class="p-3">{{ p.calle }}, {{ p.distrito }}, {{ p.provincia }}</td>
            <td class="p-3">{{ p.precio ?? '-' }}</td>
            <td class="p-3">{{ p.moneda ?? '-' }}</td>
            <td class="p-3">
              <a [routerLink]="['/propiedades', p.id]" class="text-blue-700 hover:underline">Ver</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>
